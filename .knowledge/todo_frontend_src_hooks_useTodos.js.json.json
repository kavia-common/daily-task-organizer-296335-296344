{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React hook useTodos that manages a todo list, supporting local storage and API synchronization with optimistic updates. It includes utility functions for debouncing, error handling, normalization, filtering/searching, and exposes functions for CRUD operations on todos. The hook initializes state, manages data fetching, and handles state updates in a way that balances local persistence with remote API calls.", "external_files": ["../utils/env", "../services/api", "../services/storage"], "external_methods": ["getDataMode", "listTodos", "createTodo", "updateTodo", "deleteTodo", "loadTodos", "saveTodos", "generateId"], "published": ["useTodos"], "classes": [], "methods": [{"name": "useDebouncedCallback(fn, wait = 200)", "description": "Creates a debounced function that delays invoking the provided function until after the specified wait time has elapsed since the last invocation.", "scope": "", "scopeKind": ""}, {"name": "isNetworkOrServerError(err)", "description": "Checks if an error is related to network or server failure, used to determine fallback behavior.", "scope": "", "scopeKind": ""}, {"name": "normalizeTodo(t)", "description": "Normalizes a todo object to ensure consistent shape, generating an ID if missing.", "scope": "", "scopeKind": ""}, {"name": "filterAndSearch(tasks, filter, search)", "description": "Filters and searches through a list of tasks based on filter criteria and search query.", "scope": "", "scopeKind": ""}, {"name": "init()", "scope": "useTodos", "scopeKind": "function", "description": "unavailable"}, {"name": "useTodos()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getDataMode", "loadLocal", "saveLocal", "listTodos", "api.createTodo", "api.updateTodo", "api.deleteTodo", "generateId", "useCallback", "useEffect", "useMemo", "clearTimeout", "setTimeout", "clearTimeout"], "search-terms": ["useTodos", "Todo management hook", "localStorage persistence", "API synchronization", "optimistic updates", "debounced search", "React hook", "filter and search", "error handling", "fallback to local storage", "task normalization"], "state": 2, "file_id": 17, "knowledge_revision": 36, "git_revision": "", "ctags": [{"_type": "tag", "name": "filterAndSearch", "path": "/home/kavia/workspace/code-generation/daily-task-organizer-296335-296344/todo_frontend/src/hooks/useTodos.js", "pattern": "/^function filterAndSearch(tasks, filter, search) {$/", "language": "JavaScript", "kind": "function", "signature": "(tasks, filter, search)"}, {"_type": "tag", "name": "init", "path": "/home/kavia/workspace/code-generation/daily-task-organizer-296335-296344/todo_frontend/src/hooks/useTodos.js", "pattern": "/^    async function init() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "useTodos", "scopeKind": "function"}, {"_type": "tag", "name": "isNetworkOrServerError", "path": "/home/kavia/workspace/code-generation/daily-task-organizer-296335-296344/todo_frontend/src/hooks/useTodos.js", "pattern": "/^function isNetworkOrServerError(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "normalizeTodo", "path": "/home/kavia/workspace/code-generation/daily-task-organizer-296335-296344/todo_frontend/src/hooks/useTodos.js", "pattern": "/^function normalizeTodo(t) {$/", "language": "JavaScript", "kind": "function", "signature": "(t)"}, {"_type": "tag", "name": "useDebouncedCallback", "path": "/home/kavia/workspace/code-generation/daily-task-organizer-296335-296344/todo_frontend/src/hooks/useTodos.js", "pattern": "/^function useDebouncedCallback(fn, wait = 200) {$/", "language": "JavaScript", "kind": "function", "signature": "(fn, wait = 200)"}, {"_type": "tag", "name": "useTodos", "path": "/home/kavia/workspace/code-generation/daily-task-organizer-296335-296344/todo_frontend/src/hooks/useTodos.js", "pattern": "/^export default function useTodos() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "8670f4b86c120ee8c063fe86523b59fa", "format-version": 4, "code-base-name": "todo_frontend", "filename": "todo_frontend/src/hooks/useTodos.js", "revision_history": [{"36": ""}]}